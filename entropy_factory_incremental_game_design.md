## 1. 游戏概述

**游戏名**：熵工厂（Entropy Works）
 **类型**：增量/放置/轻策略
 **时长**：单局长期（30天+），每日轻度回访（3–15分钟）
 **平台**：H5 / 小程序 / App（任意）
 **核心卖点**：

- **“资源→机器→更快资源”**的经典增量闭环
- 多层次资源（物理→信息→概念→宇宙重置），持续“解锁新维度”的爽感
- 有一点点“调度/配比”的脑洞策略，但不烧脑
- 视觉可以走极简科幻：工厂线条、能量流、星图面板，便宜也能好看

------

## 2. 核心体验与循环

### 2.1 玩家目标

把“熵”（混乱）加工成“秩序”，最终达到**宇宙级产能**，通过“重置/升维”获得永久增益。

### 2.2 核心循环（30秒内可理解）

1. 点击/自动产出获得 **碎片**
2. 用碎片建造 **生产设施**（矿机/压缩器/分形炉…）
3. 设施产出更高阶资源（**零件→模块→蓝图→定律**）
4. 用蓝图升级系统，用定律触发 **升维（Prestige）**
5. 升维获得永久货币 **常数**，回到更快的开局

------

## 3. 资源体系（四层递进）

> 增量游戏最怕“只有金币”，我们用四层资源让每次解锁都像上楼。

### 3.1 资源表

| 层级 | 名称               | 产出方式              | 消耗用途           | 关键点             |
| ---- | ------------------ | --------------------- | ------------------ | ------------------ |
| L1   | **碎片 Shard**     | 点击 + 基础设施自动产 | 买设施、基础升级   | 数值跑得快，给爽感 |
| L2   | **零件 Part**      | 由碎片在“压缩器”转化  | 买中级设施、研究   | 引入“配比/效率”    |
| L3   | **蓝图 Blueprint** | 零件在“分形炉”合成    | 解锁功能、全局升级 | 引入长期目标       |
| L4   | **定律 Law**       | 蓝图达到阈值生成      | 触发升维、永久系统 | Prestige 入口      |

### 3.2 自动化与配比

- 压缩器：碎片 → 零件（可调节转换比例：10%、50%、90%）
- 分形炉：零件 → 蓝图（需要能量供给，能量来自某类设施）
- 玩家策略点：**我到底要堆碎片产能，还是先转零件冲蓝图解锁？**

------

## 4. 建筑/设施设计（可扩展）

### 4.1 设施分组

1. **采集系**：直接产碎片（矿机、钻头阵列、量子吸尘器）
2. **转换系**：碎片→零件（压缩器、纳米压床）
3. **合成系**：零件→蓝图（分形炉、拓扑编译器）
4. **能源系**：提供“能量”，提升合成效率（聚变堆、暗能电容）
5. **加速系**：全局倍率/时间加速（时钟塔、超导总线）

### 4.2 设施示例（前期 10 个足够撑起 3–7 天体验）

| 设施       | 解锁条件   | 产出/效果             | 成本曲线 |
| ---------- | ---------- | --------------------- | -------- |
| 矿机       | 初始       | +碎片/s               | 1.15^n   |
| 钻头阵列   | 矿机≥10    | +碎片/s（倍率更高）   | 1.17^n   |
| 压缩器     | 碎片≥1k    | 碎片→零件（可调比例） | 1.20^n   |
| 纳米压床   | 零件≥50    | 提升压缩效率          | 1.22^n   |
| 分形炉     | 零件≥500   | 零件→蓝图（需能量）   | 1.25^n   |
| 聚变堆     | 分形炉解锁 | +能量/s               | 1.23^n   |
| 拓扑编译器 | 蓝图≥5     | 蓝图产出倍率          | 1.28^n   |
| 时钟塔     | 蓝图≥20    | 全局速度 +x%          | 1.30^n   |
| 超导总线   | 蓝图≥50    | 全局产出倍率          | 1.33^n   |
| 暗能电容   | 定律≥1     | 升维后保留部分能量    | 1.40^n   |

> 成本曲线用指数增长（a^n）最稳；不同设施的指数略不同，体现定位差异。

------

## 5. 升级与研究（让玩家一直“有事做”）

### 5.1 升级类型

- **购买式升级（一次性）**：用碎片/零件/蓝图买，提供永久倍率
- **研究树（分支选择）**：让玩家有轻策略取舍
- **里程碑（达标自动生效）**：减少重复劳动，提升舒适度

### 5.2 研究树（示例：三条路线）

- **工业派**：设施更便宜、产出更高
- **算法派**：转换效率更高、自动配比更智能
- **宇宙派**：更快触发定律、升维收益更高

研究节点例子（蓝图消耗）：

- 工业-1：矿机产出×2
- 工业-2：所有采集系成本指数 -0.02
- 算法-1：压缩器损耗 -20%
- 算法-2：自动保持碎片库存≥X（防止全转空）
- 宇宙-1：定律生成阈值 -10%
- 宇宙-2：升维获得常数 +25%

------

## 6. Prestige（升维）设计：增量游戏的灵魂

### 6.1 触发条件

当 **定律 Law ≥ 1** 可升维。升维会：

- 重置：碎片/零件/蓝图/大部分设施
- 保留：常数、部分里程碑、某些永久升级
- 获得：**常数 Constant**（永久货币）

### 6.2 常数用途（永久成长）

- 全局倍率（产出×、速度×）
- 解锁“自动研究/自动建造/离线收益提升”
- 解锁新系统（例如“奇点模块”“星图事件”）

### 6.3 常数产出公式（建议）

常数 = floor( (定律数量 ^ 0.5) * K )

- 用开方压缩收益，避免膨胀太快
- K 为平衡系数，前期让玩家第一次升维能拿到 5–30 个常数最舒服

------

## 7. 离线收益与回访节奏

### 7.1 离线机制

- 默认离线收益：最多 **4小时**（可用常数升级到 24 小时）
- 离线时只计算“采集系 + 转换系”简化计算，合成系可在升级后解锁离线计算
- 回来弹窗展示：本次离线获得 X 碎片、Y 零件、触发了 Z 次里程碑

### 7.2 每日回访点（不逼氪也能留存）

- **每日任务**：建造X、研究X、升维X（奖励常数碎片/加速券）
- **事件卡牌**（随机 3 选 1）：
  - “工头加班”：速度+30% 10分钟
  - “物流堵塞”：成本+20% 5分钟（但补偿蓝图）
  - “灵感闪现”：下次研究免费一次

------

## 8. UI/交互完整稿（文字版线框 + 页面结构）

> 按最省成本的“单页多面板”结构来做：顶部资源条 + 底部导航 4 Tab。

### 8.1 全局布局

- **顶部资源条（固定）**：碎片 / 零件 / 蓝图 / 定律 / 常数
- **中间主区域**：Tab 内容
- **底部导航**：生产、研究、升维、日志

### 8.2 Tab 1：生产（核心页）

**左侧（或上方）**：当前产能摘要卡

- 碎片/s、零件/s、蓝图/min
- 能量/s、合成效率%

**中间**：设施列表（卡片式）
 每张卡包含：

- 名称 + 等级/数量
- 当前产出
- [买1] [买10] [买最大]
- 升级提示（可点开详情）

**右侧（或下方）**：配比面板（压缩器/分形炉）

- 滑条：碎片转零件比例（10/50/90/自定义）
- 开关：保持碎片最低库存
- 能量分配：合成系 vs 转换系（可选）

### 8.3 Tab 2：研究

- 顶部：三条路线标签（工业/算法/宇宙）
- 中间：研究节点网格（锁定/可购/已购三态）
- 右侧：研究详情（效果、消耗、前置）

### 8.4 Tab 3：升维

- 大卡片：当前可获得常数预测（显示公式结果）
- “升维将重置内容”的清单（明确告知，减少恐惧）
- 里程碑保留说明
- 按钮：**[升维]**（长按 1 秒确认，防误触）

### 8.5 Tab 4：日志/事件

- 事件列表（最近 50 条）
- 里程碑达成提示
- 离线收益记录
- 可选：导出存档（开发期好用）

------

## 9. 美术与动效指导（低成本也能高级）

### 9.1 视觉风格

- 背景：深色宇宙渐变 + 细网格/电路纹理
- 主色：冷色（青/紫）+ 少量高亮（金/白）
- 设施图标：简化线框（SVG），用发光描边
- 数值跳字：小而快，避免遮挡 UI

### 9.2 关键动效（只做这 6 个就够“值钱”）

1. 点击产出：资源粒子飞向顶部资源条
2. 买设施：卡片轻微弹跳 + 数量滚动
3. 解锁研究：节点发光连线扩散
4. 里程碑达成：横幅“叮”的一下 + 小烟花
5. 升维：全屏扭曲/缩放，像“宇宙折叠”
6. 离线收益弹窗：数字快速计数 + 结算声

------

## 10. 数值与平衡（可直接落地的规则）

### 10.1 建议基准

- 初始点击：+1 碎片
- 初始矿机：+0.1 碎片/s
- 目标：**5分钟内解锁压缩器**；**30–60分钟内第一次升维预告**；**2–4小时内第一次升维**（休闲向）

### 10.2 设施成本公式（通用）

cost(n) = base * (growth ^ n)

- growth 建议 1.15–1.35
- “强设施”growth更高，“弱设施”growth更低

### 10.3 产出公式（通用）

production = baseProd * quantity * (1 + sumAdd) * productMultipliers

- 增量游戏最怕乘法太多导致爆炸：**加法堆小增益，乘法留给大节点/升维**。

------

## 11. 变现（可选，保证不毁体验）

- 广告：看广告获得 2x 产出 10 分钟（每日上限）
- 付费点（轻量）：
  - 永久离线时长+（上限到 24h）
  - 永久“自动购买/自动研究”
  - 皮肤（UI主题、粒子效果）
- 绝不卖：直接数值碾压（玩家会觉得这游戏在嘲笑宇宙）

------

## 12. 技术实现建议（前端友好）

- 数据结构：
  - state：资源、设施数量、升级/研究状态、里程碑、常数
  - tick：固定时间步长（如 100ms / 1s）
- 计算：
  - 用 BigNumber（或自定义科学计数法）处理超大数值
  - 产出使用“每秒结算”，UI 用插值平滑显示
- 存档：localStorage + 导出 JSON；可加云同步（后期）

------

## 13. 可扩展内容（后续版本的“第二层天花板”）

- **星图系统**：升维后解锁“星座加成”，像天赋盘
- **挑战模式**：限制某类设施，通关给永久徽章
- **叙事碎片**：每次升维揭示一点“宇宙工厂”真相（很抓人）

------

# 附：一页式“完整UI线框稿”（文本版）

**顶部资源条**
 [碎片 1.23e6] [零件 3.4e3] [蓝图 21] [定律 0] [常数 12]

**底部Tab**：生产 | 研究 | 升维 | 日志

## 生产页

- 卡片：产能概览
  - 碎片/s：+12.4K
  - 零件/s：+32
  - 蓝图/min：+0.8
  - 能量/s：+120
- 列表：设施
  - 矿机 x120 产出 +6.0K/s  [买1][买10][买Max]
  - 钻头阵列 x40 产出 +5.2K/s [买1][买10][买Max]
  - 压缩器 x8  转换：碎片→零件（比例 50%）[详情]
  - 分形炉 x2  合成：零件→蓝图（耗能 80/s）[详情]
  - 聚变堆 x3  能量 +150/s [买]
- 配比面板
  - 碎片→零件：|———●———| 50%
  - 保持碎片库存：ON  (最低 100K)
  - 能量分配：合成 70% / 转换 30%

## 研究页

- 路线：工业 / 算法 / 宇宙（标签切换）
- 节点网格（锁/可购/已购）
- 右侧详情：效果、消耗、前置、购买按钮

## 升维页

- 预测：本次升维可获得常数：18
- 重置提示：碎片/零件/蓝图/大部分设施将归零
- 保留：常数、里程碑、永久升级
- [长按升维]

## 日志页

- 离线收益结算、里程碑、事件选择记录
